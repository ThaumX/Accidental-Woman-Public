:: dateScheduleMenu [nobr]

<<set _npc = setup.interact.status.npc>>
<<set _weekdays = ["errorday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"]>>
<<set ↂ.sched.npcDate[_npc][4] = false>>
<div id="npcSchedBox">
<center>
  @@.npc;<<print setup.npcDate.propose(_npc)>>@@
  <<set _weekday = ↂ.sched.npcDate[_npc][0]>>
  <<set _nextweek = ↂ.sched.npcDate[_npc][1]>>
  <<set _time = ↂ.sched.npcDate[_npc][2]>>
  <<set _place = ↂ.sched.npcDate[_npc][5]>>
  &nbsp;
  <<link "Okies!">><<run setup.npcDate.scheduleDate(ↂ.sched.npcDate[_npc][0], ↂ.sched.npcDate[_npc][1], ↂ.sched.npcDate[_npc][2], ↂ.sched.npcDate[_npc][5], ↂ.sched.npcDate[_npc][3])>><<replace '#npcSchedBox'>><center>@@.npc;Nice! <<if _nextweek === true>>Next<<else>>This<</if>>&nbsp;<<print _weekdays[_weekday]>>&nbsp;then, at <<print _time>>:00 !@@</center><</replace>><</link>>
  <br><br>
  Or propose your own time and place:
  <br>
  <<button "[-]">><<set _weekday -= 1>><<if _weekday < 1>><<set _weekday = 1>><</if>><<if _weekday > 7>><<set _weekday = 7>><</if>><<replace "#weekdayDiv">><<print _weekdays[_weekday]>><</replace>><</button>>&nbsp;&nbsp;<span id="weekdayDiv"><<print _weekdays[_weekday]>></span>&nbsp;&nbsp;<<button "[+]">><<set _weekday += 1>><<if _weekday < 1>><<set _weekday = 1>><</if>><<if _weekday > 7>><<set _weekday = 7>><</if>><<replace "#weekdayDiv">><<print _weekdays[_weekday]>><</replace>><</button>>
  &nbsp;&nbsp;
  <<button "[-]">><<set _time -= 1>><<if _time < 7>><<set _time = 7>><</if>><<if _time > 23>><<set _time = 23>><</if>><<replace "#timedayDiv">><<print _time>><</replace>><</button>>&nbsp;&nbsp;<span id="timedayDiv"><<print _time>></span>:00&nbsp;&nbsp;<<button "[+]">><<set _time += 1>><<if _time < 7>><<set _time = 7>><</if>><<if _time > 23>><<set _time = 23>><</if>><<replace "#timedayDiv">><<print _time>><</replace>><</button>>
  <br>
  Next week?&nbsp;<<checkboxA "_nextweek" false true>>
  <br><br>
  <<dropdown '_datePlace' "park" "gloryhole" "mall" "amusement">>
  <br><br>
  <<button "Propose">><<replace '#npcSchedBox'>><center>@@.npc;<<print setup.npcDate.checkIfFree(_weekday, _nextweek, _time, _datePlace, _npc)>>@@&nbsp;<<if ↂ.sched.npcDate[_npc][4] === false>><<link "Another time maybe?">><<replace '#npcSchedBox'>><<datescheduler _npc>><</replace>><</link>><</if>></center><</replace>><</button>>
</center>
</div>

:: dateScheduleMenuAlreadySet [nobr]
<div id="npcSchedBox">
<center>
@@.npc;We already set a date, remember?@@
</center>
</div>